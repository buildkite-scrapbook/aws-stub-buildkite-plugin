>>> Starting local agent ü§ñ
>>> Starting build üëü
>>> Executing initial command: buildkite-agent pipeline upload
>>> Executing command step üêö BATS with buildkite-plugin-tester

~~~ Preparing plugins
[90m# Plugin "github.com/buildkite-plugins/docker-buildkite-plugin" will be checked out to "/var/folders/g5/gldb9rfd6xv_6s5fh1x4w3840000gp/T/buildkite-plugins-654437976/github-com-buildkite-plugins-docker-buildkite-plugin-v5-3-0"[0m
[90m# Switching to the temporary plugin directory[0m
[90m$[0m cd /var/folders/g5/gldb9rfd6xv_6s5fh1x4w3840000gp/T/buildkite-plugins-654437976/github-com-buildkite-plugins-docker-buildkite-plugin-v5-3-02650119145
[90m$[0m git clone -v --recursive -- https://github.com/buildkite-plugins/docker-buildkite-plugin .
Cloning into '.'...
POST git-upload-pack (193 bytes)
POST git-upload-pack (gzip 2370 to 1220 bytes)
remote: Enumerating objects: 1712, done.[K
remote: Counting objects:   0% (1/188)[Kremote: Counting objects:   1% (2/188)[Kremote: Counting objects:   2% (4/188)[Kremote: Counting objects:   3% (6/188)[Kremote: Counting objects:   4% (8/188)[Kremote: Counting objects:   5% (10/188)[Kremote: Counting objects:   6% (12/188)[Kremote: Counting objects:   7% (14/188)[Kremote: Counting objects:   8% (16/188)[Kremote: Counting objects:   9% (17/188)[Kremote: Counting objects:  10% (19/188)[Kremote: Counting objects:  11% (21/188)[Kremote: Counting objects:  12% (23/188)[Kremote: Counting objects:  13% (25/188)[Kremote: Counting objects:  14% (27/188)[Kremote: Counting objects:  15% (29/188)[Kremote: Counting objects:  16% (31/188)[Kremote: Counting objects:  17% (32/188)[Kremote: Counting objects:  18% (34/188)[Kremote: Counting objects:  19% (36/188)[Kremote: Counting objects:  20% (38/188)[Kremote: Counting objects:  21% (40/188)[Kremote: Counting objects:  22% (42/188)[Kremote: Counting objects:  23% (44/188)[Kremote: Counting objects:  24% (46/188)[Kremote: Counting objects:  25% (47/188)[Kremote: Counting objects:  26% (49/188)[Kremote: Counting objects:  27% (51/188)[Kremote: Counting objects:  28% (53/188)[Kremote: Counting objects:  29% (55/188)[Kremote: Counting objects:  30% (57/188)[Kremote: Counting objects:  31% (59/188)[Kremote: Counting objects:  32% (61/188)[Kremote: Counting objects:  33% (63/188)[Kremote: Counting objects:  34% (64/188)[Kremote: Counting objects:  35% (66/188)[Kremote: Counting objects:  36% (68/188)[Kremote: Counting objects:  37% (70/188)[Kremote: Counting objects:  38% (72/188)[Kremote: Counting objects:  39% (74/188)[Kremote: Counting objects:  40% (76/188)[Kremote: Counting objects:  41% (78/188)[Kremote: Counting objects:  42% (79/188)[Kremote: Counting objects:  43% (81/188)[Kremote: Counting objects:  44% (83/188)[Kremote: Counting objects:  45% (85/188)[Kremote: Counting objects:  46% (87/188)[Kremote: Counting objects:  47% (89/188)[Kremote: Counting objects:  48% (91/188)[Kremote: Counting objects:  49% (93/188)[Kremote: Counting objects:  50% (94/188)[Kremote: Counting objects:  51% (96/188)[Kremote: Counting objects:  52% (98/188)[Kremote: Counting objects:  53% (100/188)[Kremote: Counting objects:  54% (102/188)[Kremote: Counting objects:  55% (104/188)[Kremote: Counting objects:  56% (106/188)[Kremote: Counting objects:  57% (108/188)[Kremote: Counting objects:  58% (110/188)[Kremote: Counting objects:  59% (111/188)[Kremote: Counting objects:  60% (113/188)[Kremote: Counting objects:  61% (115/188)[Kremote: Counting objects:  62% (117/188)[Kremote: Counting objects:  63% (119/188)[Kremote: Counting objects:  64% (121/188)[Kremote: Counting objects:  65% (123/188)[Kremote: Counting objects:  66% (125/188)[Kremote: Counting objects:  67% (126/188)[Kremote: Counting objects:  68% (128/188)[Kremote: Counting objects:  69% (130/188)[Kremote: Counting objects:  70% (132/188)[Kremote: Counting objects:  71% (134/188)[Kremote: Counting objects:  72% (136/188)[Kremote: Counting objects:  73% (138/188)[Kremote: Counting objects:  74% (140/188)[Kremote: Counting objects:  75% (141/188)[Kremote: Counting objects:  76% (143/188)[Kremote: Counting objects:  77% (145/188)[Kremote: Counting objects:  78% (147/188)[Kremote: Counting objects:  79% (149/188)[Kremote: Counting objects:  80% (151/188)[Kremote: Counting objects:  81% (153/188)[Kremote: Counting objects:  82% (155/188)[Kremote: Counting objects:  83% (157/188)[Kremote: Counting objects:  84% (158/188)[Kremote: Counting objects:  85% (160/188)[Kremote: Counting objects:  86% (162/188)[Kremote: Counting objects:  87% (164/188)[Kremote: Counting objects:  88% (166/188)[Kremote: Counting objects:  89% (168/188)[Kremote: Counting objects:  90% (170/188)[Kremote: Counting objects:  91% (172/188)[Kremote: Counting objects:  92% (173/188)[Kremote: Counting objects:  93% (175/188)[Kremote: Counting objects:  94% (177/188)[Kremote: Counting objects:  95% (179/188)[Kremote: Counting objects:  96% (181/188)[Kremote: Counting objects:  97% (183/188)[Kremote: Counting objects:  98% (185/188)[Kremote: Counting objects:  99% (187/188)[Kremote: Counting objects: 100% (188/188)[Kremote: Counting objects: 100% (188/188), done.[K
remote: Compressing objects:   1% (1/87)[Kremote: Compressing objects:   2% (2/87)[Kremote: Compressing objects:   3% (3/87)[Kremote: Compressing objects:   4% (4/87)[Kremote: Compressing objects:   5% (5/87)[Kremote: Compressing objects:   6% (6/87)[Kremote: Compressing objects:   8% (7/87)[Kremote: Compressing objects:   9% (8/87)[Kremote: Compressing objects:  10% (9/87)[Kremote: Compressing objects:  11% (10/87)[Kremote: Compressing objects:  12% (11/87)[Kremote: Compressing objects:  13% (12/87)[Kremote: Compressing objects:  14% (13/87)[Kremote: Compressing objects:  16% (14/87)[Kremote: Compressing objects:  17% (15/87)[Kremote: Compressing objects:  18% (16/87)[Kremote: Compressing objects:  19% (17/87)[Kremote: Compressing objects:  20% (18/87)[Kremote: Compressing objects:  21% (19/87)[Kremote: Compressing objects:  22% (20/87)[Kremote: Compressing objects:  24% (21/87)[Kremote: Compressing objects:  25% (22/87)[Kremote: Compressing objects:  26% (23/87)[Kremote: Compressing objects:  27% (24/87)[Kremote: Compressing objects:  28% (25/87)[Kremote: Compressing objects:  29% (26/87)[Kremote: Compressing objects:  31% (27/87)[Kremote: Compressing objects:  32% (28/87)[Kremote: Compressing objects:  33% (29/87)[Kremote: Compressing objects:  34% (30/87)[Kremote: Compressing objects:  35% (31/87)[Kremote: Compressing objects:  36% (32/87)[Kremote: Compressing objects:  37% (33/87)[Kremote: Compressing objects:  39% (34/87)[Kremote: Compressing objects:  40% (35/87)[Kremote: Compressing objects:  41% (36/87)[Kremote: Compressing objects:  42% (37/87)[Kremote: Compressing objects:  43% (38/87)[Kremote: Compressing objects:  44% (39/87)[Kremote: Compressing objects:  45% (40/87)[Kremote: Compressing objects:  47% (41/87)[Kremote: Compressing objects:  48% (42/87)[Kremote: Compressing objects:  49% (43/87)[Kremote: Compressing objects:  50% (44/87)[Kremote: Compressing objects:  51% (45/87)[Kremote: Compressing objects:  52% (46/87)[Kremote: Compressing objects:  54% (47/87)[Kremote: Compressing objects:  55% (48/87)[Kremote: Compressing objects:  56% (49/87)[Kremote: Compressing objects:  57% (50/87)[Kremote: Compressing objects:  58% (51/87)[Kremote: Compressing objects:  59% (52/87)[Kremote: Compressing objects:  60% (53/87)[Kremote: Compressing objects:  62% (54/87)[Kremote: Compressing objects:  63% (55/87)[Kremote: Compressing objects:  64% (56/87)[Kremote: Compressing objects:  65% (57/87)[Kremote: Compressing objects:  66% (58/87)[Kremote: Compressing objects:  67% (59/87)[Kremote: Compressing objects:  68% (60/87)[Kremote: Compressing objects:  70% (61/87)[Kremote: Compressing objects:  71% (62/87)[Kremote: Compressing objects:  72% (63/87)[Kremote: Compressing objects:  73% (64/87)[Kremote: Compressing objects:  74% (65/87)[Kremote: Compressing objects:  75% (66/87)[Kremote: Compressing objects:  77% (67/87)[Kremote: Compressing objects:  78% (68/87)[Kremote: Compressing objects:  79% (69/87)[Kremote: Compressing objects:  80% (70/87)[Kremote: Compressing objects:  81% (71/87)[Kremote: Compressing objects:  82% (72/87)[Kremote: Compressing objects:  83% (73/87)[Kremote: Compressing objects:  85% (74/87)[Kremote: Compressing objects:  86% (75/87)[Kremote: Compressing objects:  87% (76/87)[Kremote: Compressing objects:  88% (77/87)[Kremote: Compressing objects:  89% (78/87)[Kremote: Compressing objects:  90% (79/87)[Kremote: Compressing objects:  91% (80/87)[Kremote: Compressing objects:  93% (81/87)[Kremote: Compressing objects:  94% (82/87)[Kremote: Compressing objects:  95% (83/87)[Kremote: Compressing objects:  96% (84/87)[Kremote: Compressing objects:  97% (85/87)[Kremote: Compressing objects:  98% (86/87)[Kremote: Compressing objects: 100% (87/87)[Kremote: Compressing objects: 100% (87/87), done.[K
Receiving objects:   0% (1/1712)Receiving objects:   1% (18/1712)Receiving objects:   2% (35/1712)Receiving objects:   3% (52/1712)Receiving objects:   4% (69/1712)Receiving objects:   5% (86/1712)Receiving objects:   6% (103/1712)Receiving objects:   7% (120/1712)Receiving objects:   8% (137/1712)Receiving objects:   9% (155/1712)Receiving objects:  10% (172/1712)Receiving objects:  11% (189/1712)Receiving objects:  12% (206/1712)Receiving objects:  13% (223/1712)Receiving objects:  14% (240/1712)Receiving objects:  15% (257/1712)Receiving objects:  16% (274/1712)Receiving objects:  17% (292/1712)Receiving objects:  18% (309/1712)Receiving objects:  19% (326/1712)Receiving objects:  20% (343/1712)Receiving objects:  21% (360/1712)Receiving objects:  22% (377/1712)Receiving objects:  23% (394/1712)Receiving objects:  24% (411/1712)Receiving objects:  25% (428/1712)Receiving objects:  26% (446/1712)Receiving objects:  27% (463/1712)Receiving objects:  28% (480/1712)Receiving objects:  29% (497/1712)Receiving objects:  30% (514/1712)Receiving objects:  31% (531/1712)Receiving objects:  32% (548/1712)Receiving objects:  33% (565/1712)Receiving objects:  34% (583/1712)Receiving objects:  35% (600/1712)Receiving objects:  36% (617/1712)Receiving objects:  37% (634/1712)Receiving objects:  38% (651/1712)Receiving objects:  39% (668/1712)Receiving objects:  40% (685/1712)Receiving objects:  41% (702/1712)Receiving objects:  42% (720/1712)Receiving objects:  43% (737/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  44% (754/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  45% (771/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  46% (788/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  47% (805/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  48% (822/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  49% (839/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  50% (856/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  51% (874/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  52% (891/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  53% (908/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  54% (925/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  55% (942/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  56% (959/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  57% (976/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  58% (993/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  59% (1011/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  60% (1028/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  61% (1045/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  62% (1062/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  63% (1079/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  64% (1096/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  65% (1113/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  66% (1130/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  67% (1148/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  68% (1165/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  69% (1182/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  70% (1199/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  71% (1216/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  72% (1233/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  73% (1250/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  74% (1267/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  75% (1284/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  76% (1302/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  77% (1319/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  78% (1336/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  79% (1353/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  80% (1370/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  81% (1387/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  82% (1404/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  83% (1421/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  84% (1439/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  85% (1456/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  86% (1473/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  87% (1490/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  88% (1507/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  89% (1524/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  90% (1541/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  91% (1558/1712), 284.00 KiB | 457.00 KiB/sremote: Total 1712 (delta 122), reused 113 (delta 98), pack-reused 1524[K
Receiving objects:  92% (1576/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  93% (1593/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  94% (1610/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  95% (1627/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  96% (1644/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  97% (1661/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  98% (1678/1712), 284.00 KiB | 457.00 KiB/sReceiving objects:  99% (1695/1712), 284.00 KiB | 457.00 KiB/sReceiving objects: 100% (1712/1712), 284.00 KiB | 457.00 KiB/sReceiving objects: 100% (1712/1712), 424.94 KiB | 689.00 KiB/s, done.
Resolving deltas:   0% (0/855)Resolving deltas:   1% (11/855)Resolving deltas:   2% (19/855)Resolving deltas:   3% (26/855)Resolving deltas:   4% (35/855)Resolving deltas:   5% (43/855)Resolving deltas:   6% (52/855)Resolving deltas:   7% (60/855)Resolving deltas:   8% (69/855)Resolving deltas:   9% (77/855)Resolving deltas:  10% (86/855)Resolving deltas:  11% (95/855)Resolving deltas:  12% (103/855)Resolving deltas:  13% (112/855)Resolving deltas:  14% (120/855)Resolving deltas:  15% (129/855)Resolving deltas:  16% (137/855)Resolving deltas:  17% (146/855)Resolving deltas:  18% (154/855)Resolving deltas:  19% (163/855)Resolving deltas:  20% (171/855)Resolving deltas:  21% (181/855)Resolving deltas:  22% (189/855)Resolving deltas:  23% (197/855)Resolving deltas:  24% (206/855)Resolving deltas:  25% (215/855)Resolving deltas:  26% (223/855)Resolving deltas:  27% (233/855)Resolving deltas:  28% (240/855)Resolving deltas:  29% (248/855)Resolving deltas:  30% (259/855)Resolving deltas:  31% (266/855)Resolving deltas:  32% (274/855)Resolving deltas:  33% (284/855)Resolving deltas:  34% (291/855)Resolving deltas:  35% (301/855)Resolving deltas:  36% (308/855)Resolving deltas:  37% (317/855)Resolving deltas:  38% (325/855)Resolving deltas:  39% (334/855)Resolving deltas:  40% (344/855)Resolving deltas:  41% (351/855)Resolving deltas:  42% (360/855)Resolving deltas:  43% (368/855)Resolving deltas:  44% (377/855)Resolving deltas:  45% (386/855)Resolving deltas:  46% (394/855)Resolving deltas:  47% (402/855)Resolving deltas:  48% (411/855)Resolving deltas:  49% (422/855)Resolving deltas:  50% (428/855)Resolving deltas:  51% (437/855)Resolving deltas:  52% (445/855)Resolving deltas:  53% (454/855)Resolving deltas:  54% (462/855)Resolving deltas:  55% (471/855)Resolving deltas:  56% (479/855)Resolving deltas:  57% (489/855)Resolving deltas:  58% (496/855)Resolving deltas:  59% (505/855)Resolving deltas:  60% (513/855)Resolving deltas:  61% (522/855)Resolving deltas:  62% (531/855)Resolving deltas:  63% (539/855)Resolving deltas:  64% (548/855)Resolving deltas:  65% (556/855)Resolving deltas:  66% (567/855)Resolving deltas:  67% (574/855)Resolving deltas:  68% (584/855)Resolving deltas:  69% (590/855)Resolving deltas:  70% (599/855)Resolving deltas:  71% (610/855)Resolving deltas:  72% (616/855)Resolving deltas:  73% (625/855)Resolving deltas:  74% (633/855)Resolving deltas:  75% (642/855)Resolving deltas:  76% (651/855)Resolving deltas:  77% (659/855)Resolving deltas:  78% (667/855)Resolving deltas:  79% (676/855)Resolving deltas:  80% (684/855)Resolving deltas:  81% (694/855)Resolving deltas:  82% (703/855)Resolving deltas:  83% (710/855)Resolving deltas:  84% (719/855)Resolving deltas:  85% (727/855)Resolving deltas:  86% (737/855)Resolving deltas:  87% (744/855)Resolving deltas:  88% (753/855)Resolving deltas:  89% (761/855)Resolving deltas:  90% (770/855)Resolving deltas:  91% (779/855)Resolving deltas:  92% (788/855)Resolving deltas:  93% (797/855)Resolving deltas:  94% (805/855)Resolving deltas:  95% (813/855)Resolving deltas:  96% (821/855)Resolving deltas:  97% (830/855)Resolving deltas:  98% (838/855)Resolving deltas:  99% (847/855)Resolving deltas: 100% (855/855)Resolving deltas: 100% (855/855), done.
[90m# Checking out `v5.3.0`[0m
[90m$[0m git checkout -f v5.3.0
Note: switching to 'v5.3.0'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by switching back to a branch.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -c with the switch command. Example:

  git switch -c <new-branch-name>

Or undo this operation with:

  git switch -

Turn off this advice by setting config variable advice.detachedHead to false

HEAD is now at aa5e1fe Merge pull request #224 from buildkite-plugins/toote_multiline_commands_issue-223
[90m# Moving temporary plugin directory to final location[0m
[90m$[0m cd /private/var/folders/g5/gldb9rfd6xv_6s5fh1x4w3840000gp/T/buildkite-build-973809053
[90m$[0m cd /Users/frank.peng/Repos/experiments/aws-stub-buildkite-plugin

~~~ Running plugin docker command hook
[90m$[0m /var/folders/g5/gldb9rfd6xv_6s5fh1x4w3840000gp/T/buildkite-plugins-654437976/github-com-buildkite-plugins-docker-buildkite-plugin-v5-3-0/hooks/command

--- :docker: Running command in buildkite/plugin-tester:latest
[90m$[0m docker run -t -i --rm --init --volume /Users/frank.peng/Repos/experiments/aws-stub-buildkite-plugin:/plugin --workdir /plugin --label com.buildkite.job-id=25c3643c-3dd7-4198-9db2-c0381e21d88a buildkite/plugin-tester:latest /bin/sh -e -c bats\ tests/ 
WARNING: The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested
[34;1mexample-2.bats
[0m[1G   test with asterisk[K[77G1/7[2G[1G ‚úì test with asterisk[K
[0m[1G   test without asterisk[K[77G2/7[2G[1G ‚úì test without asterisk[K
[0m[34;1mexample-3.bats
[0m[1G   Test AWS Assume Role[K[77G3/7[2G[31;1m[1G ‚úó Test AWS Assume Role[K
[0m[31;22m   (from function `unstub' in file /usr/local/lib/bats/bats-mock/stub.bash, line 70,
[0m[31;22m    from function `teardown' in test file tests/example-3.bats, line 6)
[0m[31;22m     `unstub aws' failed
[0m[34;1mexample-4.bats
[0m[1G   Test AWS Assume Role - Example 4[K[77G4/7[2G[1G ‚úì Test AWS Assume Role - Example 4[K
[0m[34;1mexample-5.bats
[0m[1G   Test AWS Assume Role - Example 5[K[77G5/7[2G
bats-mock(aws): got aws sts assume-role --role-arn arn:aws:iam::123456789012:role/example-5-role --role-session-name example-5-session
bats-mock(aws): arguments [6] = 'sts' 'assume-role' '--role-arn' 'arn:aws:iam::123456789012:role/example-5-role' '--role-session-name' 'example-5-session' 
bats-mock(aws): patterns  [6] = 'sts' 'assume-role' '--role-arn' 'arn:aws:iam::123456789012:role/example-5-role' '--role-session-name' 'example-5-session' 
bats-mock(aws): running echo {
bats-mock(aws): command result was 0
bats-mock(aws): result 0
bats-mock(aws): unstubbing
[11A[1G ‚úì Test AWS Assume Role - Example 5[K
[0m[10B[34;1mexample.bats
[0m[1G   date format util formats date with expected arguments[K[77G6/7[2G[1G ‚úì date format util formats date with expected arguments[K
[0m[34;1mpre-command.bats
[0m[1G   Test AWS Assume Role[K[77G7/7[2G
bats-mock(aws): got aws sts assume-role --role-arn arn:aws:iam::123456789012:role/xaccounts3access --role-session-name s3-access-example
bats-mock(aws): arguments [6] = 'sts' 'assume-role' '--role-arn' 'arn:aws:iam::123456789012:role/xaccounts3access' '--role-session-name' 's3-access-example' 
bats-mock(aws): patterns  [6] = 'sts' 'assume-role' '--role-arn' 'arn:aws:iam::123456789012:role/xaccounts3access' '--role-session-name' 's3-access-example' 
bats-mock(aws): running echo {
bats-mock(aws): command result was 0
bats-mock(aws): result 0
bats-mock(aws): unstubbing
[31;1m[11A[1G ‚úó Test AWS Assume Role[K
[0m[10B[31;22m   (from function `unstub' in file /usr/local/lib/bats/bats-mock/stub.bash, line 70,
[0m[31;22m    from function `teardown' in test file tests/pre-command.bats, line 27)
[0m[31;22m     `unstub aws' failed
[0m[31;1m
7 tests, 2 failures
[0m
[31müö® Error: The command exited with status 1[0m
^^^ +++
^^^ +++
user command error: The plugin docker command hook exited with status 1

~~~ Running plugin docker pre-exit hook
[90m$[0m /var/folders/g5/gldb9rfd6xv_6s5fh1x4w3840000gp/T/buildkite-plugins-654437976/github-com-buildkite-plugins-docker-buildkite-plugin-v5-3-0/hooks/pre-exit

>>> üö® Command failed in 13.061926625s
